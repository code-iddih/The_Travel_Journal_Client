{"ast":null,"code":"import React from\"react\";import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import{useHistory}from\"react-router-dom\";import{register}from\"../utils/auth\";import\"../App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterSchema=Yup.object().shape({username:Yup.string().required(\"Username is required\"),email:Yup.string().email(\"Invalid email\").required(\"Email is required\"),password:Yup.string().min(6,\"Password must be at least 6 characters\").required(\"Password is required\"),confirmPassword:Yup.string().oneOf([Yup.ref(\"password\"),null],\"Passwords must match\").required(\"Confirm Password is required\")});function RegisterPage(){const history=useHistory();const handleSubmit=async(values,_ref)=>{let{setSubmitting,setFieldError}=_ref;try{await register(values);history.push(\"/login\");}catch(error){setFieldError(\"general\",\"Registration failed. Please try again.\");}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"register-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-form-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"Create an Account\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{username:\"\",email:\"\",password:\"\",confirmPassword:\"\"},validationSchema:RegisterSchema,onSubmit:handleSubmit,children:_ref2=>{let{isSubmitting,errors}=_ref2;return/*#__PURE__*/_jsxs(Form,{className:\"register-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"username\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\",component:\"div\",className:\"text-danger\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(Field,{type:\"email\",name:\"email\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"text-danger\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{type:\"password\",name:\"password\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"text-danger\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Field,{type:\"password\",name:\"confirmPassword\",className:\"form-control\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"confirmPassword\",component:\"div\",className:\"text-danger\"})]}),errors.general&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errors.general}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-full\",disabled:isSubmitting,children:isSubmitting?\"Registering...\":\"Register\"})]});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"register-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.freepik.com/free-photo/travel-adventure-with-baggage_23-2149153255.jpg?semt=ais_hybrid\",alt:\"Register illustration\",className:\"register-image\"})})]});}export default RegisterPage;","map":{"version":3,"names":["React","Formik","Form","Field","ErrorMessage","Yup","useHistory","register","jsx","_jsx","jsxs","_jsxs","RegisterSchema","object","shape","username","string","required","email","password","min","confirmPassword","oneOf","ref","RegisterPage","history","handleSubmit","values","_ref","setSubmitting","setFieldError","push","error","className","children","initialValues","validationSchema","onSubmit","_ref2","isSubmitting","errors","htmlFor","type","name","component","general","disabled","src","alt"],"sources":["/home/code-iddih/Music/client/src/pages/RegisterPage.js"],"sourcesContent":["import React from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { register } from \"../utils/auth\";\nimport \"../App.css\";\n\nconst RegisterSchema = Yup.object().shape({\n  username: Yup.string().required(\"Username is required\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  password: Yup.string()\n    .min(6, \"Password must be at least 6 characters\")\n    .required(\"Password is required\"),\n  confirmPassword: Yup.string()\n    .oneOf([Yup.ref(\"password\"), null], \"Passwords must match\")\n    .required(\"Confirm Password is required\"),\n});\n\nfunction RegisterPage() {\n  const history = useHistory();\n\n  const handleSubmit = async (values, { setSubmitting, setFieldError }) => {\n    try {\n      await register(values);\n      history.push(\"/login\");\n    } catch (error) {\n      setFieldError(\"general\", \"Registration failed. Please try again.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"register-container\">\n      <div className=\"register-form-container\">\n        <div className=\"register-form-wrapper\">\n          <h1 className=\"text-2xl font-bold mb-6\">Create an Account</h1>\n          <Formik\n            initialValues={{\n              username: \"\",\n              email: \"\",\n              password: \"\",\n              confirmPassword: \"\",\n            }}\n            validationSchema={RegisterSchema}\n            onSubmit={handleSubmit}\n          >\n            {({ isSubmitting, errors }) => (\n              <Form className=\"register-form\">\n                <div className=\"mb-3\">\n                  <label htmlFor=\"username\" className=\"form-label\">\n                    Username\n                  </label>\n                  <Field type=\"text\" name=\"username\" className=\"form-control\" />\n                  <ErrorMessage\n                    name=\"username\"\n                    component=\"div\"\n                    className=\"text-danger\"\n                  />\n                </div>\n\n                <div className=\"mb-3\">\n                  <label htmlFor=\"email\" className=\"form-label\">\n                    Email\n                  </label>\n                  <Field type=\"email\" name=\"email\" className=\"form-control\" />\n                  <ErrorMessage\n                    name=\"email\"\n                    component=\"div\"\n                    className=\"text-danger\"\n                  />\n                </div>\n\n                <div className=\"mb-3\">\n                  <label htmlFor=\"password\" className=\"form-label\">\n                    Password\n                  </label>\n                  <Field\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                  />\n                  <ErrorMessage\n                    name=\"password\"\n                    component=\"div\"\n                    className=\"text-danger\"\n                  />\n                </div>\n\n                <div className=\"mb-3\">\n                  <label htmlFor=\"confirmPassword\" className=\"form-label\">\n                    Confirm Password\n                  </label>\n                  <Field\n                    type=\"password\"\n                    name=\"confirmPassword\"\n                    className=\"form-control\"\n                  />\n                  <ErrorMessage\n                    name=\"confirmPassword\"\n                    component=\"div\"\n                    className=\"text-danger\"\n                  />\n                </div>\n\n                {errors.general && (\n                  <div className=\"alert alert-danger\">{errors.general}</div>\n                )}\n\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-full\"\n                  disabled={isSubmitting}\n                >\n                  {isSubmitting ? \"Registering...\" : \"Register\"}\n                </button>\n              </Form>\n            )}\n          </Formik>\n        </div>\n      </div>\n      <div className=\"register-image-container\">\n        <img\n          src=\"https://img.freepik.com/free-photo/travel-adventure-with-baggage_23-2149153255.jpg?semt=ais_hybrid\"\n          alt=\"Register illustration\"\n          className=\"register-image\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default RegisterPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}