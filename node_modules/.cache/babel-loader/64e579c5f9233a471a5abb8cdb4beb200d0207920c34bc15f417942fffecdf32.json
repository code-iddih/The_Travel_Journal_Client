{"ast":null,"code":"import React,{useState}from\"react\";import{uploadPhoto}from\"../utils/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PhotoUpload(_ref){let{entryId,onPhotoUploaded}=_ref;const[url,setUrl]=useState(\"\");const[errorMessage,setErrorMessage]=useState(\"\");const handleUrlChange=e=>{setUrl(e.target.value);};const handleSubmit=async e=>{e.preventDefault();if(url){try{const response=await uploadPhoto(entryId,{url});onPhotoUploaded(response.data);// Pass the new photo data\nsetUrl(\"\");setErrorMessage(\"\");}catch(error){console.error(\"Error uploading photo:\",error);setErrorMessage(\"Error uploading photo. Please try again.\");// Set error message\n}}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photoUrl\",className:\"form-label\",children:\"Photo URL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"photoUrl\",className:\"form-control\",value:url,onChange:handleUrlChange,placeholder:\"Enter the URL of the photo\",required:true})]}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errorMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:!url,children:\"Add Photo\"})]});}export default PhotoUpload;","map":{"version":3,"names":["React","useState","uploadPhoto","jsx","_jsx","jsxs","_jsxs","PhotoUpload","_ref","entryId","onPhotoUploaded","url","setUrl","errorMessage","setErrorMessage","handleUrlChange","e","target","value","handleSubmit","preventDefault","response","data","error","console","onSubmit","children","className","htmlFor","type","id","onChange","placeholder","required","disabled"],"sources":["/home/code-iddih/Music/client/src/components/PhotoUpload.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { uploadPhoto } from \"../utils/api\";\n\nfunction PhotoUpload({ entryId, onPhotoUploaded }) {\n  const [url, setUrl] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleUrlChange = (e) => {\n    setUrl(e.target.value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (url) {\n      try {\n        const response = await uploadPhoto(entryId, { url });\n        onPhotoUploaded(response.data);  // Pass the new photo data\n        setUrl(\"\");\n        setErrorMessage(\"\");  \n      } catch (error) {\n        console.error(\"Error uploading photo:\", error);\n        setErrorMessage(\"Error uploading photo. Please try again.\");  // Set error message\n      }\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"mb-3\">\n        <label htmlFor=\"photoUrl\" className=\"form-label\">\n          Photo URL\n        </label>\n        <input\n          type=\"url\"\n          id=\"photoUrl\"\n          className=\"form-control\"\n          value={url}\n          onChange={handleUrlChange}\n          placeholder=\"Enter the URL of the photo\"\n          required\n        />\n      </div>\n      {errorMessage && <div className=\"text-danger\">{errorMessage}</div>}\n      <button type=\"submit\" className=\"btn btn-primary\" disabled={!url}>\n        Add Photo\n      </button>\n    </form>\n  );\n}\n\nexport default PhotoUpload;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,QAAS,CAAAC,WAAWA,CAAAC,IAAA,CAA+B,IAA9B,CAAEC,OAAO,CAAEC,eAAgB,CAAC,CAAAF,IAAA,CAC/C,KAAM,CAACG,GAAG,CAAEC,MAAM,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEpD,KAAM,CAAAc,eAAe,CAAIC,CAAC,EAAK,CAC7BJ,MAAM,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACxB,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAH,CAAC,EAAK,CAChCA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,GAAIT,GAAG,CAAE,CACP,GAAI,CACF,KAAM,CAAAU,QAAQ,CAAG,KAAM,CAAAnB,WAAW,CAACO,OAAO,CAAE,CAAEE,GAAI,CAAC,CAAC,CACpDD,eAAe,CAACW,QAAQ,CAACC,IAAI,CAAC,CAAG;AACjCV,MAAM,CAAC,EAAE,CAAC,CACVE,eAAe,CAAC,EAAE,CAAC,CACrB,CAAE,MAAOS,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CT,eAAe,CAAC,0CAA0C,CAAC,CAAG;AAChE,CACF,CACF,CAAC,CAED,mBACER,KAAA,SAAMmB,QAAQ,CAAEN,YAAa,CAAAO,QAAA,eAC3BpB,KAAA,QAAKqB,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBtB,IAAA,UAAOwB,OAAO,CAAC,UAAU,CAACD,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,WAEjD,CAAO,CAAC,cACRtB,IAAA,UACEyB,IAAI,CAAC,KAAK,CACVC,EAAE,CAAC,UAAU,CACbH,SAAS,CAAC,cAAc,CACxBT,KAAK,CAAEP,GAAI,CACXoB,QAAQ,CAAEhB,eAAgB,CAC1BiB,WAAW,CAAC,4BAA4B,CACxCC,QAAQ,MACT,CAAC,EACC,CAAC,CACLpB,YAAY,eAAIT,IAAA,QAAKuB,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAEb,YAAY,CAAM,CAAC,cAClET,IAAA,WAAQyB,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,iBAAiB,CAACO,QAAQ,CAAE,CAACvB,GAAI,CAAAe,QAAA,CAAC,WAElE,CAAQ,CAAC,EACL,CAAC,CAEX,CAEA,cAAe,CAAAnB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}