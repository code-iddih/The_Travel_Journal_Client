{"ast":null,"code":"import axios from\"axios\";const API_URL=process.env.REACT_APP_API_URL||\"https://the-travel-journal-server.onrender.com/api\";const api=axios.create({baseURL:API_URL,headers:{\"Content-Type\":\"application/json\"}});// Adding a request interceptor to include the JWT token in the header\napi.interceptors.request.use(config=>{const token=localStorage.getItem(\"token\");if(token){config.headers[\"Authorization\"]=`Bearer ${token}`;}return config;},error=>Promise.reject(error));// API functions for entries\nexport const getEntries=()=>api.get(\"/entries\");export const getEntry=id=>api.get(`/entries/${id}`);export const createEntry=data=>api.post(\"/entries\",data);export const updateEntry=(id,data)=>api.put(`/entries/${id}`,data);export const deleteEntry=id=>api.delete(`/entries/${id}`);// API functions for photos\nexport const deletePhoto=(entryId,photoId)=>api.delete(`/entries/${entryId}/photos/${photoId}`);export const getEntryPhotos=id=>api.get(`/entries/${id}/photos`);export const uploadPhoto=(entryId,photoData)=>api.post(`/entries/${entryId}/photos`,{url:photoData.url});// Tag-related functions\nexport const getTags=()=>api.get(\"/tags\");export const createTag=tagName=>api.post(\"/tags\",{name:tagName});export const addTagsToEntry=(entryId,tagId)=>api.post(`/entries/${entryId}/tags`,{tag_id:tagId});export const removeTagFromEntry=(entryId,tagId)=>api.delete(`/entries/${entryId}/tags/${tagId}`);export const deleteTag=tagId=>api.delete(`/tags/${tagId}`);// User-related functions\nexport const getUserProfile=()=>api.get(\"/users/profile\");export const updateUserProfile=data=>api.put(\"/users/profile\",data);export default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","error","Promise","reject","getEntries","get","getEntry","id","createEntry","data","post","updateEntry","put","deleteEntry","delete","deletePhoto","entryId","photoId","getEntryPhotos","uploadPhoto","photoData","url","getTags","createTag","tagName","name","addTagsToEntry","tagId","tag_id","removeTagFromEntry","deleteTag","getUserProfile","updateUserProfile"],"sources":["/home/code-iddih/Music/client/src/utils/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = process.env.REACT_APP_API_URL || \"https://the-travel-journal-server.onrender.com/api\";\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\n// Adding a request interceptor to include the JWT token in the header\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      config.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// API functions for entries\nexport const getEntries = () => api.get(\"/entries\");\nexport const getEntry = (id) => api.get(`/entries/${id}`);\nexport const createEntry = (data) => api.post(\"/entries\", data);\nexport const updateEntry = (id, data) => api.put(`/entries/${id}`, data);\nexport const deleteEntry = (id) => api.delete(`/entries/${id}`);\n\n// API functions for photos\nexport const deletePhoto = (entryId, photoId) =>\n  api.delete(`/entries/${entryId}/photos/${photoId}`);\nexport const getEntryPhotos = (id) => api.get(`/entries/${id}/photos`);\nexport const uploadPhoto = (entryId, photoData) =>\n  api.post(`/entries/${entryId}/photos`, { url: photoData.url });\n\n// Tag-related functions\nexport const getTags = () => api.get(\"/tags\");\nexport const createTag = (tagName) => api.post(\"/tags\", { name: tagName });\nexport const addTagsToEntry = (entryId, tagId) =>\n  api.post(`/entries/${entryId}/tags`, { tag_id: tagId });\nexport const removeTagFromEntry = (entryId, tagId) =>\n  api.delete(`/entries/${entryId}/tags/${tagId}`);\nexport const deleteTag = (tagId) => api.delete(`/tags/${tagId}`);\n\n// User-related functions\nexport const getUserProfile = () => api.get(\"/users/profile\");\nexport const updateUserProfile = (data) => api.put(\"/users/profile\", data); \n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}