{"ast":null,"code":"import React,{useContext}from\"react\";import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import{useHistory,Link}from\"react-router-dom\";import{AuthContext}from\"../context/AuthContext\";import{login}from\"../utils/auth\";import\"../App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginSchema=Yup.object().shape({username:Yup.string().required(\"Username is required\"),password:Yup.string().required(\"Password is required\")});function LoginPage(){const history=useHistory();const{setIsAuthenticated}=useContext(AuthContext);const handleSubmit=async(values,_ref)=>{let{setSubmitting,setFieldError}=_ref;try{await login(values);setIsAuthenticated(true);history.push(\"/\");}catch(error){setFieldError(\"general\",\"Invalid username or password\");}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4\",children:\"Welcome Back\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-muted mb-4\",children:\"Please log in to your account\"}),/*#__PURE__*/_jsx(Formik,{initialValues:{username:\"\",password:\"\"},validationSchema:LoginSchema,onSubmit:handleSubmit,children:_ref2=>{let{isSubmitting,errors}=_ref2;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"username\",className:\"form-control\",placeholder:\"Enter your username\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\",component:\"div\",className:\"text-danger\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(Field,{type:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Enter your password\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"text-danger\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"form-check-input\",id:\"remember\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"remember\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/reset-password\",className:\"text-primary text-decoration-none\",children:\"Forgot Password?\"})]}),errors.general&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:errors.general}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100 mb-3\",disabled:isSubmitting,children:isSubmitting?\"Logging in...\":\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mb-0\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-primary text-decoration-none\",children:\"Sign up\"})]})]});}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"login-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.freepik.com/free-photo/travel-concept-with-baggage_23-2149153260.jpg?semt=ais_hybrid\",alt:\"Login illustration\",className:\"login-image\"})})]});}export default LoginPage;","map":{"version":3,"names":["React","useContext","Formik","Form","Field","ErrorMessage","Yup","useHistory","Link","AuthContext","login","jsx","_jsx","jsxs","_jsxs","LoginSchema","object","shape","username","string","required","password","LoginPage","history","setIsAuthenticated","handleSubmit","values","_ref","setSubmitting","setFieldError","push","error","className","children","initialValues","validationSchema","onSubmit","_ref2","isSubmitting","errors","htmlFor","type","name","placeholder","component","id","to","general","disabled","src","alt"],"sources":["/home/code-iddih/Music/client/src/pages/LoginPage.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { login } from \"../utils/auth\";\nimport \"../App.css\";\n\nconst LoginSchema = Yup.object().shape({\n  username: Yup.string().required(\"Username is required\"),\n  password: Yup.string().required(\"Password is required\"),\n});\n\nfunction LoginPage() {\n  const history = useHistory();\n  const { setIsAuthenticated } = useContext(AuthContext);\n\n  const handleSubmit = async (values, { setSubmitting, setFieldError }) => {\n    try {\n      await login(values);\n      setIsAuthenticated(true);\n      history.push(\"/\");\n    } catch (error) {\n      setFieldError(\"general\", \"Invalid username or password\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form-container\">\n        <div className=\"login-form-wrapper\">\n          <h1 className=\"text-center mb-4\">Welcome Back</h1>\n          <p className=\"text-center text-muted mb-4\">\n            Please log in to your account\n          </p>\n\n          <Formik\n            initialValues={{ username: \"\", password: \"\" }}\n            validationSchema={LoginSchema}\n            onSubmit={handleSubmit}\n          >\n            {({ isSubmitting, errors }) => (\n              <Form>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"username\" className=\"form-label\">\n                    Username\n                  </label>\n                  <Field\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    placeholder=\"Enter your username\"\n                  />\n                  <ErrorMessage\n                    name=\"username\"\n                    component=\"div\"\n                    className=\"text-danger\"\n                  />\n                </div>\n\n                <div className=\"mb-3\">\n                  <label htmlFor=\"password\" className=\"form-label\">\n                    Password\n                  </label>\n                  <Field\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Enter your password\"\n                  />\n                  <ErrorMessage\n                    name=\"password\"\n                    component=\"div\"\n                    className=\"text-danger\"\n                  />\n                </div>\n\n                <div className=\"mb-3 d-flex justify-content-between align-items-center\">\n                  <div className=\"form-check\">\n                    <input\n                      type=\"checkbox\"\n                      className=\"form-check-input\"\n                      id=\"remember\"\n                    />\n                    <label className=\"form-check-label\" htmlFor=\"remember\">\n                      Remember me\n                    </label>\n                  </div>\n                  <Link\n                    to=\"/reset-password\"\n                    className=\"text-primary text-decoration-none\"\n                  >\n                    Forgot Password?\n                  </Link>\n                </div>\n\n                {errors.general && (\n                  <div className=\"alert alert-danger\">{errors.general}</div>\n                )}\n\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-primary w-100 mb-3\"\n                  disabled={isSubmitting}\n                >\n                  {isSubmitting ? \"Logging in...\" : \"Login\"}\n                </button>\n\n                <p className=\"text-center mb-0\">\n                  Don't have an account?{\" \"}\n                  <Link\n                    to=\"/register\"\n                    className=\"text-primary text-decoration-none\"\n                  >\n                    Sign up\n                  </Link>\n                </p>\n              </Form>\n            )}\n          </Formik>\n        </div>\n      </div>\n\n      <div className=\"login-image-container\">\n        <img\n          src=\"https://img.freepik.com/free-photo/travel-concept-with-baggage_23-2149153260.jpg?semt=ais_hybrid\"\n          alt=\"Login illustration\"\n          className=\"login-image\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default LoginPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}