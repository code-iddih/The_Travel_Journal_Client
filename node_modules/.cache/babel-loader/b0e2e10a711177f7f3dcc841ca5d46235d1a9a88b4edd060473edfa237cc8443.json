{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import EntryForm from\"../components/EntryForm\";import{getEntry,updateEntry}from\"../utils/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EditEntryPage(){const{id}=useParams();const history=useHistory();const[entry,setEntry]=useState(null);useEffect(()=>{const fetchEntry=async()=>{try{const response=await getEntry(id);setEntry(response.data);}catch(error){console.error(\"Error fetching entry:\",error);}};fetchEntry();},[id]);const handleSubmit=async(values,_ref)=>{let{setSubmitting}=_ref;try{await updateEntry(id,values);history.push(`/entries/${id}`);}catch(error){console.error(\"Error updating entry:\",error);}finally{setSubmitting(false);}};if(!entry)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Entry\"}),/*#__PURE__*/_jsx(EntryForm,{initialValues:entry,onSubmit:handleSubmit})]});}export default EditEntryPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useHistory","EntryForm","getEntry","updateEntry","jsx","_jsx","jsxs","_jsxs","EditEntryPage","id","history","entry","setEntry","fetchEntry","response","data","error","console","handleSubmit","values","_ref","setSubmitting","push","children","initialValues","onSubmit"],"sources":["/home/code-iddih/Music/client/src/pages/EditEntryPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport EntryForm from \"../components/EntryForm\";\nimport { getEntry, updateEntry } from \"../utils/api\";\n\nfunction EditEntryPage() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [entry, setEntry] = useState(null);\n\n  useEffect(() => {\n    const fetchEntry = async () => {\n      try {\n        const response = await getEntry(id);\n        setEntry(response.data);\n      } catch (error) {\n        console.error(\"Error fetching entry:\", error);\n      }\n    };\n\n    fetchEntry();\n  }, [id]);\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    try {\n      await updateEntry(id, values);\n      history.push(`/entries/${id}`);\n    } catch (error) {\n      console.error(\"Error updating entry:\", error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (!entry) return <div>Loading...</div>;\n\n  return (\n    <div>\n      <h1>Edit Entry</h1>\n      <EntryForm initialValues={entry} onSubmit={handleSubmit} />\n    </div>\n  );\n}\n\nexport default EditEntryPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,UAAU,KAAQ,kBAAkB,CACxD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,QAAQ,CAAEC,WAAW,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAEC,EAAG,CAAC,CAAGV,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAW,OAAO,CAAGV,UAAU,CAAC,CAAC,CAC5B,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,QAAQ,CAACO,EAAE,CAAC,CACnCG,QAAQ,CAACE,QAAQ,CAACC,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CAEDH,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAACJ,EAAE,CAAC,CAAC,CAER,KAAM,CAAAS,YAAY,CAAG,KAAAA,CAAOC,MAAM,CAAAC,IAAA,GAAwB,IAAtB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CACnD,GAAI,CACF,KAAM,CAAAjB,WAAW,CAACM,EAAE,CAAEU,MAAM,CAAC,CAC7BT,OAAO,CAACY,IAAI,CAAC,YAAYb,EAAE,EAAE,CAAC,CAChC,CAAE,MAAOO,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,OAAS,CACRK,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,GAAI,CAACV,KAAK,CAAE,mBAAON,IAAA,QAAAkB,QAAA,CAAK,YAAU,CAAK,CAAC,CAExC,mBACEhB,KAAA,QAAAgB,QAAA,eACElB,IAAA,OAAAkB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBlB,IAAA,CAACJ,SAAS,EAACuB,aAAa,CAAEb,KAAM,CAACc,QAAQ,CAAEP,YAAa,CAAE,CAAC,EACxD,CAAC,CAEV,CAEA,cAAe,CAAAV,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}