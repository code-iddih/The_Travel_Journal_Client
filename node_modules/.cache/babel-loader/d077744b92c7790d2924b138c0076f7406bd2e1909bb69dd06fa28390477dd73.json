{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{getTags,deleteTag}from\"../utils/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TagsPage(){const[tags,setTags]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchTags();},[]);const fetchTags=async()=>{try{setIsLoading(true);const response=await getTags();setTags(response.data);setError(null);}catch(error){console.error(\"Error fetching tags:\",error);setError(\"Failed to fetch tags. Please try again later.\");}finally{setIsLoading(false);}};const handleDeleteTag=async tagId=>{if(window.confirm(\"Are you sure you want to delete this tag?\")){try{await deleteTag(tagId);setTags(tags.filter(tag=>tag.id!==tagId));}catch(error){console.error(\"Error deleting tag:\",error);setError(\"Failed to delete tag. Please try again.\");}}};if(isLoading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading tags...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tags\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:tags.map(tag=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:tag.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Created: \",new Date(tag.created_at).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>handleDeleteTag(tag.id),children:\"Delete\"})]})})},tag.id))})]});}export default TagsPage;","map":{"version":3,"names":["React","useState","useEffect","getTags","deleteTag","jsx","_jsx","jsxs","_jsxs","TagsPage","tags","setTags","isLoading","setIsLoading","error","setError","fetchTags","response","data","console","handleDeleteTag","tagId","window","confirm","filter","tag","id","children","className","map","name","Date","created_at","toLocaleDateString","onClick"],"sources":["/home/code-iddih/Music/client/src/pages/TagsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { getTags, deleteTag } from \"../utils/api\";\n\nfunction TagsPage() {\n  const [tags, setTags] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  const fetchTags = async () => {\n    try {\n      setIsLoading(true);\n      const response = await getTags();\n      setTags(response.data);\n      setError(null);\n    } catch (error) {\n      console.error(\"Error fetching tags:\", error);\n      setError(\"Failed to fetch tags. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    if (window.confirm(\"Are you sure you want to delete this tag?\")) {\n      try {\n        await deleteTag(tagId);\n        setTags(tags.filter((tag) => tag.id !== tagId));\n      } catch (error) {\n        console.error(\"Error deleting tag:\", error);\n        setError(\"Failed to delete tag. Please try again.\");\n      }\n    }\n  };\n\n  if (isLoading) return <div>Loading tags...</div>;\n  if (error) return <div className=\"alert alert-danger\">{error}</div>;\n\n  return (\n    <div>\n      <h1>Tags</h1>\n      <div className=\"row\">\n        {tags.map((tag) => (\n          <div key={tag.id} className=\"col-md-3 mb-3\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{tag.name}</h5>\n                <p className=\"card-text\">\n                  Created: {new Date(tag.created_at).toLocaleDateString()}\n                </p>\n                <button\n                  className=\"btn btn-danger btn-sm\"\n                  onClick={() => handleDeleteTag(tag.id)}\n                >\n                  Delete\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default TagsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}